{% extends "base.html" %}

{% block content %}
<h1>{{ "Edit Event" if event else "New Event" }}</h1>

<form method="POST" action="{{ url_for('edit_event', event_id=event.id) if event else url_for('add_event') }}" class="form">
    <label for="name">Event Name</label>
    <input type="text" id="name" name="name" value="{{ event.name if event else '' }}" required>

    <label for="event_type">Type</label>
    <select id="event_type" name="event_type" required>
        {% for t in event_types %}
        <option value="{{ t }}" {{ 'selected' if event and event.event_type == t }}>{{ t }}</option>
        {% endfor %}
    </select>

    <label for="location">Location</label>
    <input type="text" id="location" name="location" value="{{ event.location if event else '' }}" required>

    <label for="date">Date</label>
    <input type="date" id="date" name="date" value="{{ event.date.isoformat() if event else '' }}" required>

    <label for="notes">Notes</label>
    <textarea id="notes" name="notes" rows="3">{{ event.notes if event else '' }}</textarea>

    <div class="form-actions">
        <button type="submit" class="btn">{{ "Save" if event else "Create Event" }}</button>
        <a href="{{ url_for('event_detail', event_id=event.id) if event else url_for('home') }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
