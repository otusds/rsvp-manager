{% extends "base.html" %}

{% block content %}
<h1>{{ "Edit Guest" if guest else "New Guest" }}</h1>

<form method="POST" action="{{ url_for('edit_guest', guest_id=guest.id) if guest else url_for('add_guest') }}" class="form">
    <label for="first_name">First Name</label>
    <input type="text" id="first_name" name="first_name" value="{{ guest.first_name if guest else '' }}" required>

    <label for="last_name">Last Name</label>
    <input type="text" id="last_name" name="last_name" value="{{ guest.last_name if guest else '' }}" placeholder="Optional">

    <label for="gender">Gender</label>
    <select id="gender" name="gender" required>
        <option value="">-- Select --</option>
        <option value="Male" {{ 'selected' if guest and guest.gender == 'Male' }}>Male</option>
        <option value="Female" {{ 'selected' if guest and guest.gender == 'Female' }}>Female</option>
    </select>

    <div class="checkbox-row">
        <input type="checkbox" id="is_me" name="is_me" {{ 'checked' if guest and guest.is_me }}>
        <label for="is_me">This is me</label>
    </div>

    <label for="notes">Notes</label>
    <textarea id="notes" name="notes" rows="3">{{ guest.notes if guest else '' }}</textarea>

    <div class="form-actions">
        <button type="submit" class="btn">{{ "Save" if guest else "Add Guest" }}</button>
        <a href="{{ url_for('guests') }}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
